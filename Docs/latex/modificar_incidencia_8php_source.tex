\doxysection{modificar\+Incidencia.\+php}
\hypertarget{modificar_incidencia_8php_source}{}\label{modificar_incidencia_8php_source}\index{src/api/logicaNegocio/modificarIncidencia.php@{src/api/logicaNegocio/modificarIncidencia.php}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00002}00002\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00003}00003\ \textcolor{comment}{//\ Fichero:\ modificarIncidencia.php}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00004}00004\ \textcolor{comment}{//\ Autor:\ Manuel}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00005}00005\ \textcolor{comment}{//\ Fecha:\ 30/10/2025}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00006}00006\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00007}00007\ \textcolor{comment}{//\ Descripción:}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00008}00008\ \textcolor{comment}{//\ Este\ archivo\ contiene\ la\ lógica\ de\ negocio\ para\ modificar\ una\ incidencia\ en\ el\ sistema\ de\ biometría.}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00009}00009\ \textcolor{comment}{//\ Permite\ actualizar\ los\ detalles\ de\ una\ incidencia\ existente,\ asegurando\ que\ los\ cambios\ se\ reflejen}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00010}00010\ \textcolor{comment}{//\ correctamente\ en\ la\ base\ de\ datos.\ Se\ espera\ que\ este\ script\ sea\ invocado\ a\ través\ de\ una\ solicitud}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00011}00011\ \textcolor{comment}{//\ HTTP,\ y\ que\ reciba\ los\ parámetros\ necesarios\ para\ realizar\ la\ modificación.}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00012}00012\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00014}00014\ \textcolor{keyword}{function}\ actualizarEstadoIncidencia(\$conn,\ \$datos)\ \{}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00015}00015\ \ \ \ \ \$incidenciaId\ =\ intval(\$datos[\textcolor{stringliteral}{'incidencia\_id'}]\ ??\ 0);}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00016}00016\ \ \ \ \ \$estadoId\ \ \ \ \ =\ intval(\$datos[\textcolor{stringliteral}{'estado\_id'}]\ ??\ 0);}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00018}00018\ \ \ \ \ \$stmt\ =\ \$conn-\/>prepare(\textcolor{stringliteral}{"{}UPDATE\ incidencias\ SET\ estado\_id\ =\ ?\ WHERE\ id\ =\ ?"{}});}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00019}00019\ \ \ \ \ \$ok\ \ \ =\ \$stmt-\/>execute([\$estadoId,\ \$incidenciaId]);}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00021}00021\ \ \ \ \ \textcolor{keywordflow}{return}\ \$ok\ ?\ [\textcolor{stringliteral}{"{}status"{}}\ =>\ \textcolor{stringliteral}{"{}ok"{}}]\ :\ [\textcolor{stringliteral}{"{}status"{}}\ =>\ \textcolor{stringliteral}{"{}error"{}},\ \textcolor{stringliteral}{"{}mensaje"{}}\ =>\ \textcolor{stringliteral}{"{}No\ se\ pudo\ actualizar"{}}];}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00022}00022\ \}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00024}00024\ \textcolor{keyword}{function}\ asignarTecnicoIncidencia(\$conn,\ \$datos)\ \{}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00025}00025\ \ \ \ \ \$incidenciaId\ =\ intval(\$datos[\textcolor{stringliteral}{'incidencia\_id'}]\ ??\ 0);}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00026}00026\ \ \ \ \ \$tecnicoId\ \ \ \ =\ intval(\$datos[\textcolor{stringliteral}{'tecnico\_id'}]\ ??\ 0);}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00028}00028\ \ \ \ \ \$stmt\ =\ \$conn-\/>prepare(\textcolor{stringliteral}{"{}UPDATE\ incidencias\ SET\ id\_tecnico\ =\ ?\ WHERE\ id\ =\ ?"{}});}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00029}00029\ \ \ \ \ \$ok\ \ \ =\ \$stmt-\/>execute([\$tecnicoId,\ \$incidenciaId]);}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00031}00031\ \ \ \ \ \textcolor{keywordflow}{return}\ \$ok\ ?\ [\textcolor{stringliteral}{"{}status"{}}\ =>\ \textcolor{stringliteral}{"{}ok"{}}]\ :\ [\textcolor{stringliteral}{"{}status"{}}\ =>\ \textcolor{stringliteral}{"{}error"{}},\ \textcolor{stringliteral}{"{}mensaje"{}}\ =>\ \textcolor{stringliteral}{"{}No\ se\ pudo\ asignar"{}}];}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00032}00032\ \}}
\DoxyCodeLine{\Hypertarget{modificar_incidencia_8php_source_l00033}00033\ ?>}

\end{DoxyCode}
